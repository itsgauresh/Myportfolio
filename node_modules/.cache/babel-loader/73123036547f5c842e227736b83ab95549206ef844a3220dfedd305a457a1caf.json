{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/conne/OneDrive/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _objectSpread from \"C:/Users/conne/OneDrive/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _asyncToGenerator from \"C:/Users/conne/OneDrive/Desktop/portfolio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { store } from '../../store/store';\nimport { sendPost } from '../../api/sendPost';\nimport { buildOptions } from '../../utils/buildOptions/buildOptions';\nimport { validateForm } from '../../utils/validateForm/validateForm';\nimport { validateParams } from '../../utils/validateParams/validateParams';\nimport { isHeadless } from '../../utils/isHeadless/isHeadless';\nimport { headlessError } from '../../errors/headlessError/headlessError';\nimport { isBlockedValueInParams } from '../../utils/isBlockedValueInParams/isBlockedValueInParams';\nimport { blockedEmailError } from '../../errors/blockedEmailError/blockedEmailError';\nimport { isLimitRateHit } from '../../utils/isLimitRateHit/isLimitRateHit';\nimport { limitRateError } from '../../errors/limitRateError/limitRateError';\nvar findHTMLForm = function findHTMLForm(form) {\n  return typeof form === 'string' ? document.querySelector(form) : form;\n};\n/**\r\n * Send a form the specific EmailJS service\r\n * @param {string} serviceID - the EmailJS service ID\r\n * @param {string} templateID - the EmailJS template ID\r\n * @param {string | HTMLFormElement} form - the form element or selector\r\n * @param {object} options - the EmailJS SDK config options\r\n * @returns {Promise<EmailJSResponseStatus>}\r\n */\nexport var sendForm = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(serviceID, templateID, form, options) {\n    var opts, publicKey, blockHeadless, storageProvider, blockList, limitRate, currentForm, formData;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          opts = buildOptions(options);\n          publicKey = opts.publicKey || store.publicKey;\n          blockHeadless = opts.blockHeadless || store.blockHeadless;\n          storageProvider = store.storageProvider || opts.storageProvider;\n          blockList = _objectSpread(_objectSpread({}, store.blockList), opts.blockList);\n          limitRate = _objectSpread(_objectSpread({}, store.limitRate), opts.limitRate);\n          if (!(blockHeadless && isHeadless(navigator))) {\n            _context.next = 8;\n            break;\n          }\n          return _context.abrupt(\"return\", Promise.reject(headlessError()));\n        case 8:\n          currentForm = findHTMLForm(form);\n          validateParams(publicKey, serviceID, templateID);\n          validateForm(currentForm);\n          formData = new FormData(currentForm);\n          if (!isBlockedValueInParams(blockList, formData)) {\n            _context.next = 14;\n            break;\n          }\n          return _context.abrupt(\"return\", Promise.reject(blockedEmailError()));\n        case 14:\n          _context.next = 16;\n          return isLimitRateHit(location.pathname, limitRate, storageProvider);\n        case 16:\n          if (!_context.sent) {\n            _context.next = 18;\n            break;\n          }\n          return _context.abrupt(\"return\", Promise.reject(limitRateError()));\n        case 18:\n          formData.append('lib_version', '4.4.1');\n          formData.append('service_id', serviceID);\n          formData.append('template_id', templateID);\n          formData.append('user_id', publicKey);\n          return _context.abrupt(\"return\", sendPost('/api/v1.0/email/send-form', formData));\n        case 23:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n  return function sendForm(_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["store","sendPost","buildOptions","validateForm","validateParams","isHeadless","headlessError","isBlockedValueInParams","blockedEmailError","isLimitRateHit","limitRateError","findHTMLForm","form","document","querySelector","sendForm","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","serviceID","templateID","options","opts","publicKey","blockHeadless","storageProvider","blockList","limitRate","currentForm","formData","wrap","_callee$","_context","prev","next","_objectSpread","navigator","abrupt","Promise","reject","FormData","location","pathname","sent","append","stop","_x","_x2","_x3","_x4","apply","arguments"],"sources":["C:/Users/conne/OneDrive/Desktop/portfolio/node_modules/@emailjs/browser/es/methods/sendForm/sendForm.js"],"sourcesContent":["import { store } from '../../store/store';\r\nimport { sendPost } from '../../api/sendPost';\r\nimport { buildOptions } from '../../utils/buildOptions/buildOptions';\r\nimport { validateForm } from '../../utils/validateForm/validateForm';\r\nimport { validateParams } from '../../utils/validateParams/validateParams';\r\nimport { isHeadless } from '../../utils/isHeadless/isHeadless';\r\nimport { headlessError } from '../../errors/headlessError/headlessError';\r\nimport { isBlockedValueInParams } from '../../utils/isBlockedValueInParams/isBlockedValueInParams';\r\nimport { blockedEmailError } from '../../errors/blockedEmailError/blockedEmailError';\r\nimport { isLimitRateHit } from '../../utils/isLimitRateHit/isLimitRateHit';\r\nimport { limitRateError } from '../../errors/limitRateError/limitRateError';\r\nconst findHTMLForm = (form) => {\r\n    return typeof form === 'string' ? document.querySelector(form) : form;\r\n};\r\n/**\r\n * Send a form the specific EmailJS service\r\n * @param {string} serviceID - the EmailJS service ID\r\n * @param {string} templateID - the EmailJS template ID\r\n * @param {string | HTMLFormElement} form - the form element or selector\r\n * @param {object} options - the EmailJS SDK config options\r\n * @returns {Promise<EmailJSResponseStatus>}\r\n */\r\nexport const sendForm = async (serviceID, templateID, form, options) => {\r\n    const opts = buildOptions(options);\r\n    const publicKey = opts.publicKey || store.publicKey;\r\n    const blockHeadless = opts.blockHeadless || store.blockHeadless;\r\n    const storageProvider = store.storageProvider || opts.storageProvider;\r\n    const blockList = { ...store.blockList, ...opts.blockList };\r\n    const limitRate = { ...store.limitRate, ...opts.limitRate };\r\n    if (blockHeadless && isHeadless(navigator)) {\r\n        return Promise.reject(headlessError());\r\n    }\r\n    const currentForm = findHTMLForm(form);\r\n    validateParams(publicKey, serviceID, templateID);\r\n    validateForm(currentForm);\r\n    const formData = new FormData(currentForm);\r\n    if (isBlockedValueInParams(blockList, formData)) {\r\n        return Promise.reject(blockedEmailError());\r\n    }\r\n    if (await isLimitRateHit(location.pathname, limitRate, storageProvider)) {\r\n        return Promise.reject(limitRateError());\r\n    }\r\n    formData.append('lib_version', '4.4.1');\r\n    formData.append('service_id', serviceID);\r\n    formData.append('template_id', templateID);\r\n    formData.append('user_id', publicKey);\r\n    return sendPost('/api/v1.0/email/send-form', formData);\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}